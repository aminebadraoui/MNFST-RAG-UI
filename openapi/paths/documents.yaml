paths:
  /documents:
    get:
      tags:
        - Documents
      summary: Get documents
      description: Retrieve all documents for current tenant (tenant admin only)
      operationId: getDocuments
      security:
        $ref: '../components/security.yaml#/components/securityRequirements/TenantAdminOnly'
      parameters:
        - $ref: '../components/parameters.yaml#/components/parameters/PageParam'
        - $ref: '../components/parameters.yaml#/components/parameters/LimitParam'
      responses:
        '200':
          $ref: '../components/responses.yaml#/components/responses/DocumentsResponse'
        '401':
          $ref: '../components/responses.yaml#/components/responses/UnauthorizedError'
        '403':
          $ref: '../components/responses.yaml#/components/responses/ForbiddenError'
        '500':
          $ref: '../components/responses.yaml#/components/responses/InternalServerError'

  /documents/upload:
    post:
      tags:
        - Documents
      summary: Upload documents
      description: Upload one or more documents for RAG processing (tenant admin only)
      operationId: uploadDocuments
      security:
        $ref: '../components/security.yaml#/components/securityRequirements/TenantAdminOnly'
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Array of document files to upload (can contain a single file)
              required:
                - files
      responses:
        '201':
          description: Documents uploaded successfully
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '../components/responses.yaml#/components/responses/DocumentResponse'
                  - $ref: '../components/responses.yaml#/components/responses/MultipleUploadResponse'
        '400':
          $ref: '../components/responses.yaml#/components/responses/BadRequestError'
        '401':
          $ref: '../components/responses.yaml#/components/responses/UnauthorizedError'
        '403':
          $ref: '../components/responses.yaml#/components/responses/ForbiddenError'
        '413':
          description: Files too large
          content:
            application/json:
              schema:
                $ref: '../components/schemas.yaml#/components/schemas/ApiError'
        '422':
          $ref: '../components/responses.yaml#/components/responses/ValidationError'
        '500':
          $ref: '../components/responses.yaml#/components/responses/InternalServerError'

  /documents/upload/{uploadId}/status:
    get:
      tags:
        - Documents
      summary: Get upload status
      description: Get processing status for multiple document upload (tenant admin only)
      operationId: getUploadStatus
      security:
        $ref: '../components/security.yaml#/components/securityRequirements/TenantAdminOnly'
      parameters:
        - $ref: '../components/parameters.yaml#/components/parameters/UploadIdParam'
      responses:
        '200':
          $ref: '../components/responses.yaml#/components/responses/UploadStatusResponse'
        '401':
          $ref: '../components/responses.yaml#/components/responses/UnauthorizedError'
        '403':
          $ref: '../components/responses.yaml#/components/responses/ForbiddenError'
        '404':
          $ref: '../components/responses.yaml#/components/responses/NotFoundError'
        '500':
          $ref: '../components/responses.yaml#/components/responses/InternalServerError'

  /documents/{documentId}:
    delete:
      tags:
        - Documents
      summary: Delete document
      description: Delete a document and its processed data (tenant admin only)
      operationId: deleteDocument
      security:
        $ref: '../components/security.yaml#/components/securityRequirements/TenantAdminOnly'
      parameters:
        - $ref: '../components/parameters.yaml#/components/parameters/DocumentIdParam'
      responses:
        '204':
          $ref: '../components/responses.yaml#/components/responses/NoContentResponse'
        '401':
          $ref: '../components/responses.yaml#/components/responses/UnauthorizedError'
        '403':
          $ref: '../components/responses.yaml#/components/responses/ForbiddenError'
        '404':
          $ref: '../components/responses.yaml#/components/responses/NotFoundError'
        '500':
          $ref: '../components/responses.yaml#/components/responses/InternalServerError'